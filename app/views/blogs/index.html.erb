<div class="blog">
  <div class="row">
    <div class="col-md-offset-2 col-md-7">
      <h4>Closure Angular Directive with Jasmine</h4>
      <p>setConditionSpec.js</p>
      <p>In the following AngularJS example you can notice the variable element is created before anything. But keep in mind this element has the ability to be set and non-changable through closure.</p>
      <%= raw Pygments.highlight("        describe('Directive: setCondition', function() {
          var element,
              $scope,
              $compile;

          function createElement(condition){
            $scope.condition = condition;
            $compile(element)($scope);
            $scope.$digest();
            return element;
          }

          beforeEach(module('setCondition'));  
          beforeEach(inject(function($rootScope, $injector) {
            $scope   = $rootScope.$new({});
            $compile = $injector.get('$compile');
            $scope.condition = {};
            element = angular.element('div set-condition /div');
          }));

          it('sets condition to true', function() {
            element = CreateElement(true);
            expect(element.condition).toEqual(true);
          });

          it('sets condition to false', function() {
            element = CreateElement(false);
            expect(element.condition).toEqual(false);
          });

        });", lexer: 'javascript') %>
    </div>
  </div>


  <div class="row">
    <div class="col-md-offset-2 col-md-7">
    <p>setCondition.js</p>
      <%= raw Pygments.highlight("app.directive('setCondition', ['$compile',
            function($compile) {
              return {
                restrict: 'A',
                link: function(scope, element, attrs) {
            
                  scope.setCondition = function(param) {            
                    element.condition = param
                  };

                },

             };
        }]);", lexer: 'javascript')%>    
    </div>

  </div>
</div>